# =========================
# Local Development Template
# =========================
# Copy this file to one of:
# - scripts/.env  (preferred for local runs)
# - .env
# - config/.env
# The notebooks auto-load from those locations (first match wins).

# -------------------------
# Plaid (Required to pull)
# -------------------------
PLAID_CLIENT_ID=your_client_id_here
PLAID_SECRET=your_secret_here
# One of: production | development | sandbox
PLAID_ENV=production

# Access tokens (canonical form: access-<env>-...)
# Any of these formats work:
# 1) JSON: {"Discover":"access-production-xxxx","Petal":"access-production-yyyy"}
# 2) Pairs: Discover=access-production-xxxx; Petal=access-production-yyyy
# 3) CSV-ish: Discover:access-production-xxxx, Petal:access-production-yyyy
PLAID_ACCESS_TOKENS={"Discover":"access-production-xxxx","Petal":"access-production-yyyy"}

# -------------------------
# Paths & runtime (Optional)
# -------------------------
# Where raw/latest.csv lands
OUTPUT_DIR=data/raw
# Local state for cursors, tokens, kill switches, etc.
STATE_DIR=.state
# Where to read/write token file if not using PLAID_ACCESS_TOKENS env directly
TOKENS_PATH=.state/access_tokens.json
# Rolling window of days pulled from Plaid (build_latest)
DAYS_BACK=180
# PRECHECK=1 will list accounts per token before sync (Plaid v10 only)
PRECHECK=0

# -------------------------
# Azure OpenAI (Optional)
# -------------------------
# Leave blank to skip AI summarization & embeddings in enrich notebook.
# If set, both weekly/monthly executive digests and embeddings cache will run.
AZURE_OPENAI_ENDPOINT=https://<your-resource>.openai.azure.com
AZURE_OPENAI_API_KEY=
# Chat/completions deployment name (e.g., gpt-4o-mini)
AZURE_OPENAI_DEPLOYMENT=
AZURE_OPENAI_API_VERSION=2024-02-15-preview
# Embeddings deployment name (e.g., text-embedding-3-large)
AZURE_OPENAI_EMBEDDINGS=

# -------------------------
# Email (Optional)
# -------------------------
# Set EMAIL_ENABLED=1 to allow Cell 17 to send email digests.
# In CI you can keep this 0 (disabled), or rely on .state/EMAIL_KILL file.
EMAIL_ENABLED=0
EMAIL_DRY_RUN=1

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SSL_PORT=465
SMTP_STARTTLS=1
SMTP_USERNAME=
SMTP_PASSWORD=
EMAIL_FROM=
# Comma-separated recipients
EMAIL_TO=
EMAIL_CC=
EMAIL_BCC=
# Optional overrides; leave blank to use generated subject/body
EMAIL_SUBJECT_OVERRIDE=
EMAIL_BODY_HTML_PATH=

# -------------------------
# PDF generation (Optional)
# -------------------------
# Leave blank to skip PDF creation. Set ONLY on machines where wkhtmltopdf is installed.
# Windows example:
# WKHTMLTOPDF_PATH=C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf.exe
# macOS (brew):
# WKHTMLTOPDF_PATH=/usr/local/bin/wkhtmltopdf
# Ubuntu/Debian:
# WKHTMLTOPDF_PATH=/usr/bin/wkhtmltopdf
WKHTMLTOPDF_PATH=
